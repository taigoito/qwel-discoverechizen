(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var t=function(){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._elem=e||document.querySelector(".fader"),this._elem&&(this._items=this._elem.children,this._items.length&&!(this._items.length<=1))){this._interval=this._elem.dataset.interval||5e3,this._currentIndex=1,this._itemsCount=this._items.length;for(var n=1;n<this._itemsCount;n++)this._items[n].style.zIndex--,this._items[n].classList.add("--fade");this.startInterval()}}var n,i;return n=t,(i=[{key:"startInterval",value:function(){var e=this;this.intervalId=setInterval((function(){e._fade()}),this._interval)}},{key:"stopInterval",value:function(){clearInterval(this.intervalId)}},{key:"_fade",value:function(){var e=this._items[this._currentIndex-1],t=this._items[this._currentIndex++]||this._items[0];if(this._currentIndex>this._itemsCount||t.style.zIndex++,this._transitionEnd(t,(function(){t.classList.remove("--fade")})).then((function(){e.classList.add("--fade")})),this._currentIndex>this._itemsCount){for(var n=1;n<this._itemsCount;n++)this._items[n].style.zIndex--;this._currentIndex=1}}},{key:"_transitionEnd",value:function(e,t){var n,i=new Promise((function(t,i){n=function(){return t(e)},e.addEventListener("transitionend",n)}));return t(),i.then((function(e){e.removeEventListener("transitionend",n)})),i}}])&&e(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elems=t||document.querySelectorAll("[data-comfort]"),this._elems&&this._elems.forEach((function(e){return n._format(e)}))}var t,i;return t=e,(i=[{key:"_format",value:function(e){var t=e.textContent.length,n=e.dataset.comfort,i=Math.floor(16/t*n);e.style.letterSpacing="".concat(i/16,"em")}}])&&n(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=document.querySelector(".embed__cover");n&&(n.classList.add("active"),n.addEventListener("click",(function(){t.transitionEnd(n,(function(){n.classList.remove("active")})).then((function(){n.remove()}))})))}var t,n;return t=e,(n=[{key:"transitionEnd",value:function(e,t){var n,i=new Promise((function(t,i){n=function(){return t(e)},e.addEventListener("transitionend",n)}));return t(),i.then((function(e){e.removeEventListener("transitionend",n)})),i}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elem=t||document.querySelector(".gallery"),this._elem&&(this._main=this._elem.querySelector(".gallery__main"),this._items=this._elem.querySelectorAll(".gallery__item"),this._handleEvents())}var t,n;return t=e,(n=[{key:"_handleEvents",value:function(){var e=this;this._items.forEach((function(t){t.querySelector("a").addEventListener("click",(function(t){t.preventDefault();var n=t.currentTarget.getAttribute("href");e.change(n)}))}))}},{key:"change",value:function(e){var t=this._main.querySelector("img"),n=t.cloneNode(!0);n.setAttribute("src",e),t.before(n),this._transitionEnd(t,(function(){t.classList.add("--fade")})).then((function(){t.remove()}))}},{key:"_transitionEnd",value:function(e,t){var n,i=new Promise((function(t,i){n=function(){return t(e)},e.addEventListener("transitionend",n)}));return t(),i.then((function(e){e.removeEventListener("transitionend",n)})),i}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(l(this,e),this._elem=t.elem||document.querySelector(".modal"),this._elem){this._container=document.querySelector(".modal__container"),this._inner=document.querySelector(".modal__inner"),this._content=document.querySelector(".modal__content"),this._overlay=document.querySelector(".modal__overlay"),this._close=document.querySelector(".modal__close"),this._prev=document.querySelector(".modal__prev"),this._next=document.querySelector(".modal__next"),this._toggler=document.querySelectorAll('[data-toggle="modal"'),this._slider=document.querySelectorAll("[data-slide]"),this._isShown=!1,this._container.classList.contains("--collapse")||this._container.classList.add("--collapse"),this._inner.classList.contains("--hide")||this._inner.classList.add("--hide"),this._overlay.classList.contains("--hide")||this._overlay.classList.add("--hide"),this._overlay.classList.contains("--collapse")||this._overlay.classList.add("--collapse"),this._close.classList.contains("--collapse")||this._close.classList.add("--collapse"),this._prev.classList.contains("--collapse")||this._prev.classList.add("--collapse"),this._next.classList.contains("--collapse")||this._next.classList.add("--collapse");var n=document.querySelectorAll("[data-index]");this.maxIndex=n.length-1,this._handleEvents()}}var t,n;return t=e,(n=[{key:"_handleEvents",value:function(){var e=this;this._toggler.forEach((function(t){t.addEventListener("click",(function(t){if(t.preventDefault(),!(window.innerWidth<768))if(e._isShown)e.hide();else{var n=t.currentTarget.dataset.target;e.show(n)}}))})),this._slider.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault();var n=t.currentTarget.dataset.slide,i=e.index+(n-0);i<0||i>e.maxIndex?e.hide():e.move(i)}))})),window.addEventListener("resize",(function(){var t=window.innerWidth;e._isShown&&t<768&&e.hide()}))}},{key:"show",value:function(e){var t=this;this.index=e-0;var n=this._content.querySelector('[data-index="'.concat(this.index,'"')).cloneNode(!0);this._inner.appendChild(n),this._transitionEnd(this._container,(function(){t._container.classList.remove("--collapse"),t._overlay.classList.remove("--collapse")})).then((function(){t._inner.classList.remove("--hide"),t._overlay.classList.remove("--hide"),t._close.classList.remove("--collapse"),t._prev.classList.remove("--collapse"),t._next.classList.remove("--collapse")})),this._isShown=!0}},{key:"hide",value:function(){var e=this;this._transitionEnd(this._inner,(function(){e._inner.classList.add("--hide"),e._overlay.classList.add("--hide"),e._close.classList.add("--collapse"),e._prev.classList.add("--collapse"),e._next.classList.add("--collapse")})).then((function(){e._container.classList.add("--collapse"),e._overlay.classList.add("--collapse"),e._inner.innerHTML=""})),this._isShown=!1}},{key:"move",value:function(e){var t=this;this.index=e-0;var n=this._content.querySelector('[data-index="'.concat(this.index,'"')).cloneNode(!0);this._transitionEnd(this._inner,(function(){t._inner.classList.add("--hide")})).then((function(){t._inner.innerHTML="",t._inner.appendChild(n),t._inner.classList.remove("--hide")}))}},{key:"_transitionEnd",value:function(e,t){var n,i=new Promise((function(t,i){n=function(){return t(e)},e.addEventListener("transitionend",n)}));return t(),i.then((function(e){e.removeEventListener("transitionend",n)})),i}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=h((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e);var n=t.elems||document.querySelectorAll(".panel");if(0!==n.length){n.forEach((function(e){e.classList.add("--collapse")}));var i=document.querySelectorAll('[data-toggle="panel"]');i.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget;t.classList.toggle("--active"),document.getElementById(t.dataset.target).classList.toggle("--collapse")}))}))}}));document.querySelectorAll(".fader").forEach((function(e){new t(e)})),new i,new a,document.querySelectorAll(".gallery").forEach((function(e){new o(e)})),new u,new v})();